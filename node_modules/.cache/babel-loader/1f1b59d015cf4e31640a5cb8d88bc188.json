{"ast":null,"code":"import _classCallCheck from\"/Users/andrewburchett/thinkful/capstone/dontquit-stayfit-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/andrewburchett/thinkful/capstone/dontquit-stayfit-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/andrewburchett/thinkful/capstone/dontquit-stayfit-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/andrewburchett/thinkful/capstone/dontquit-stayfit-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import TokenService from'./Service/token-service';import ApiAuthService from'./Service/api-auth-service';var LogIn=/*#__PURE__*/function(_React$Component){_inherits(LogIn,_React$Component);var _super=_createSuper(LogIn);function LogIn(){var _this;_classCallCheck(this,LogIn);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:null};_this.handleJWTSubmission=function(event){event.preventDefault();var _event$target=event.target,user_name=_event$target.user_name,password=_event$target.password;_this.setState({error:null});ApiAuthService.getLogin({user_name:user_name.value,password:password.value}).then(function(user){user_name.value='';password.value='';TokenService.saveAuthToken(user.authToken);_this.props.loginSuccess();_this.props.history.push('/homepage');}).catch(function(res){_this.setState({error:res.error});});};return _this;}_createClass(LogIn,[{key:\"render\",value:function render(){var error=this.state.error;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"DON'T QUIT STAY FIT!\")),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleJWTSubmission},/*#__PURE__*/React.createElement(\"fieldset\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\"},\"USERNAME:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"username\",name:\"user_name\",required:true}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"pwd\"},\"PASSWORD:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"pwd\",name:\"password\",required:true}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"SUBMIT\"))),/*#__PURE__*/React.createElement(\"div\",null,error)));}}]);return LogIn;}(React.Component);LogIn.defaultProps={loginSuccess:function loginSuccess(){}};export default LogIn;","map":{"version":3,"sources":["/Users/andrewburchett/thinkful/capstone/dontquit-stayfit-client/src/LogIn.js"],"names":["React","TokenService","ApiAuthService","LogIn","state","error","handleJWTSubmission","event","preventDefault","target","user_name","password","setState","getLogin","value","then","user","saveAuthToken","authToken","props","loginSuccess","history","push","catch","res","Component","defaultProps"],"mappings":"wsBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,C,GAGMC,CAAAA,K,mUAMFC,K,CAAQ,CAAEC,KAAK,CAAE,IAAT,C,OAERC,mB,CAAsB,SAACC,KAAD,CAAW,CAC7BA,KAAK,CAACC,cAAN,GAD6B,kBAEGD,KAAK,CAACE,MAFT,CAErBC,SAFqB,eAErBA,SAFqB,CAEVC,QAFU,eAEVA,QAFU,CAG7B,MAAKC,QAAL,CAAc,CAAEP,KAAK,CAAE,IAAT,CAAd,EACAH,cAAc,CAACW,QAAf,CAAwB,CACpBH,SAAS,CAAEA,SAAS,CAACI,KADD,CAEpBH,QAAQ,CAAEA,QAAQ,CAACG,KAFC,CAAxB,EAICC,IAJD,CAIM,SAAAC,IAAI,CAAI,CACVN,SAAS,CAACI,KAAV,CAAkB,EAAlB,CACAH,QAAQ,CAACG,KAAT,CAAiB,EAAjB,CACAb,YAAY,CAACgB,aAAb,CAA2BD,IAAI,CAACE,SAAhC,EACI,MAAKC,KAAL,CAAWC,YAAX,GACA,MAAKD,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EAEP,CAXD,EAYCC,KAZD,CAYO,SAAAC,GAAG,CAAI,CACV,MAAKZ,QAAL,CAAc,CAAEP,KAAK,CAAEmB,GAAG,CAACnB,KAAb,CAAd,EACH,CAdD,EAgBH,C,wEAEQ,CACL,GAAMA,CAAAA,KAAK,CAAG,KAAKD,KAAL,CAAWC,KAAzB,CACA,mBACI,4CACI,+CACI,qDADJ,CADJ,cAII,6CACI,4BAAM,QAAQ,CAAE,KAAKC,mBAArB,eACA,iDACI,6BAAO,OAAO,CAAC,UAAf,cADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,UAAtB,CAAiC,IAAI,CAAC,WAAtC,CAAkD,QAAQ,KAA1D,EAFJ,cAGI,8BAHJ,cAII,6BAAO,OAAO,CAAC,KAAf,cAJJ,cAKI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,KAA1B,CAAgC,IAAI,CAAC,UAArC,CAAgD,QAAQ,KAAxD,EALJ,cAMI,8BANJ,cAQI,8BAAQ,IAAI,CAAC,QAAb,WARJ,CADA,CADJ,cAaI,+BAAMD,KAAN,CAbJ,CAJJ,CADJ,CAuBH,C,mBAvDeL,KAAK,CAACyB,S,EAApBtB,K,CAEKuB,Y,CAAe,CAClBN,YAAY,CAAE,uBAAM,CAAE,CADJ,C,CAwD1B,cAAejB,CAAAA,KAAf","sourcesContent":["import React from 'react'\nimport TokenService from './Service/token-service'\nimport ApiAuthService from './Service/api-auth-service'\n\n\nclass LogIn extends React.Component {\n    \n    static defaultProps = {\n        loginSuccess: () => {}\n    }\n\n    state = { error: null }\n    \n    handleJWTSubmission = (event) => {\n        event.preventDefault();\n        const { user_name, password } = event.target\n        this.setState({ error: null })\n        ApiAuthService.getLogin({\n            user_name: user_name.value,\n            password: password.value,\n        })\n        .then(user => {\n            user_name.value = ''\n            password.value = ''\n            TokenService.saveAuthToken(user.authToken)\n                this.props.loginSuccess()\n                this.props.history.push('/homepage');\n\n        })\n        .catch(res => {\n            this.setState({ error: res.error })\n        })\n\n    }\n\n    render() {\n        const error = this.state.error\n        return (\n            <div>\n                <header>\n                    <h2>DON'T QUIT STAY FIT!</h2>\n                </header>\n                <main>\n                    <form onSubmit={this.handleJWTSubmission}>\n                    <fieldset>\n                        <label htmlFor=\"username\">USERNAME:</label>\n                        <input type=\"text\" id=\"username\" name=\"user_name\" required/>\n                        <br/>\n                        <label htmlFor=\"pwd\">PASSWORD:</label>\n                        <input type=\"password\" id=\"pwd\" name=\"password\" required/>\n                        <br/>\n                        {/* <button type=\"submit\">SUBMIT</button> */}\n                        <button type='submit'>SUBMIT</button>\n                    </fieldset>\n                    </form>\n                    <div>{error}</div>\n                </main>\n            </div>\n\n        )\n    }\n}\n\nexport default LogIn"]},"metadata":{},"sourceType":"module"}